#!/bin/bash
#
# Adapted from <http://tldp.org/LDP/abs/html/mathc.html#HEXCONVERT>
#

BASE="0 1 2 3 4 5 6 7 8 9 A B C D E F"

[ $# -ne 2 ] && echo "Usage: `basename "$0"` <NUMBER> <BASETO>" >&2 && exit 1
N1=$(echo "$1" | tr -d '[0-9]')
N2=$(echo "$2" | tr -d '[0-9]')
[ -n "$N1" ] && echo "E: $1: Not a number" >&2 && exit 1
[ -n "$N2" ] && echo "E: $2: Not a number" >&2 && exit 1
[ $2 -lt 2 ] || [ $2 -gt 16 ] && echo "E: $2: Must be between 2 and 16 (inclusive)" >&2 && exit 1

I=0
for B in $BASE ; do
    echo -n "$B"
    I=$(($I + 1))
    [ $I -eq $2 ] && echo -n ": " && break
done

echo "$1 $2 o p" | dc
